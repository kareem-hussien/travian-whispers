<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Travian Whispers System Architecture</text>
  
  <!-- User Layer -->
  <rect x="320" y="60" width="160" height="50" rx="5" fill="#3a6ea5" />
  <text x="400" y="90" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Users</text>
  
  <!-- Web Frontend Layer -->
  <rect x="100" y="150" width="600" height="100" rx="5" fill="#4682b4" />
  <text x="400" y="175" font-family="Arial" font-size="16" text-anchor="middle" fill="white">Web Application (Flask)</text>
  
  <!-- Web Components -->
  <rect x="120" y="190" width="120" height="40" rx="5" fill="#6ca0dc" />
  <text x="180" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Public Routes</text>
  
  <rect x="260" y="190" width="120" height="40" rx="5" fill="#6ca0dc" />
  <text x="320" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Auth Routes</text>
  
  <rect x="400" y="190" width="120" height="40" rx="5" fill="#6ca0dc" />
  <text x="460" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">User Dashboard</text>
  
  <rect x="540" y="190" width="120" height="40" rx="5" fill="#6ca0dc" />
  <text x="600" y="215" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Admin Panel</text>
  
  <!-- Business Logic Layer -->
  <rect x="100" y="280" width="600" height="100" rx="5" fill="#ff9a3c" />
  <text x="400" y="305" font-family="Arial" font-size="16" text-anchor="middle" fill="white">Business Logic</text>
  
  <!-- Business Logic Components -->
  <rect x="120" y="320" width="80" height="40" rx="5" fill="#ffb76b" />
  <text x="160" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Auth</text>
  
  <rect x="220" y="320" width="80" height="40" rx="5" fill="#ffb76b" />
  <text x="260" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Payment</text>
  
  <rect x="320" y="320" width="80" height="40" rx="5" fill="#ffb76b" />
  <text x="360" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Email</text>
  
  <rect x="420" y="320" width="80" height="40" rx="5" fill="#ffb76b" />
  <text x="460" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Settings</text>
  
  <rect x="520" y="320" width="160" height="40" rx="5" fill="#ffb76b" />
  <text x="600" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Task Management</text>
  
  <!-- Bot Engine Layer -->
  <rect x="500" y="410" width="200" height="80" rx="5" fill="#28a745" />
  <text x="600" y="435" font-family="Arial" font-size="16" text-anchor="middle" fill="white">Bot Engine</text>
  
  <!-- Bot Components -->
  <rect x="520" y="450" width="60" height="30" rx="5" fill="#5fd375" />
  <text x="550" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Auto-Farm</text>
  
  <rect x="590" y="450" width="90" height="30" rx="5" fill="#5fd375" />
  <text x="635" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Troop Trainer</text>
  
  <!-- Data Layer -->
  <rect x="100" y="410" width="350" height="80" rx="5" fill="#6c757d" />
  <text x="275" y="435" font-family="Arial" font-size="16" text-anchor="middle" fill="white">Data Layer</text>
  
  <!-- Data Components -->
  <rect x="120" y="450" width="80" height="30" rx="5" fill="#adb5bd" />
  <text x="160" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Users</text>
  
  <rect x="210" y="450" width="80" height="30" rx="5" fill="#adb5bd" />
  <text x="250" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Subscriptions</text>
  
  <rect x="300" y="450" width="130" height="30" rx="5" fill="#adb5bd" />
  <text x="365" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Transactions</text>
  
  <!-- External Systems -->
  <rect x="100" y="520" width="150" height="50" rx="5" fill="#dc3545" />
  <text x="175" y="550" font-family="Arial" font-size="14" text-anchor="middle" fill="white">PayPal API</text>
  
  <rect x="325" y="520" width="150" height="50" rx="5" fill="#fd7e14" />
  <text x="400" y="550" font-family="Arial" font-size="14" text-anchor="middle" fill="white">SMTP Server</text>
  
  <rect x="550" y="520" width="150" height="50" rx="5" fill="#6f42c1" />
  <text x="625" y="550" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Travian Game</text>
  
  <!-- Database -->
  <ellipse cx="275" cy="520" rx="40" ry="20" fill="#007bff" />
  <text x="275" y="525" font-family="Arial" font-size="12" text-anchor="middle" fill="white">MongoDB</text>
  
  <!-- Connection Lines -->
  <!-- User to Web App -->
  <line x1="400" y1="110" x2="400" y2="150" stroke="#333" stroke-width="2" />
  
  <!-- Web App to Business Logic -->
  <line x1="400" y1="250" x2="400" y2="280" stroke="#333" stroke-width="2" />
  
  <!-- Business Logic to Bot Engine -->
  <line x1="600" y1="380" x2="600" y2="410" stroke="#333" stroke-width="2" />
  
  <!-- Business Logic to Data Layer -->
  <line x1="275" y1="380" x2="275" y2="410" stroke="#333" stroke-width="2" />
  
  <!-- Data Layer to MongoDB -->
  <line x1="275" y1="490" x2="275" y2="500" stroke="#333" stroke-width="2" />
  
  <!-- Payment Connection -->
  <line x1="260" y1="360" x2="175" y2="520" stroke="#333" stroke-width="2" />
  
  <!-- Email Connection -->
  <line x1="360" y1="360" x2="400" y2="520" stroke="#333" stroke-width="2" />
  
  <!-- Bot to Travian -->
  <line x1="600" y1="490" x2="625" y2="520" stroke="#333" stroke-width="2" />
</svg>
